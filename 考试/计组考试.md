# 第一章

### 1.3.1 冯氏计算机的硬件组成（P6）

冯诺依曼型计算机主要组成部分包括：存储器，运算器，控制器，输入输出设备 ^6bccc9

冯诺依曼型计算机组成部件之间传递的信号包括：地址信号，数据信号，控制信号

冯诺依曼型计算机关于计算的核心思想是-------------存储程序

冯诺依曼型计算机中，所谓“存储程序“是指将什么存储到存储器上？------指令序列，数据

某芯片将程序编译后的机器代码存储在Flash上，程序运行过程中动态分配了一个10 * 5的二维数组A，A被存储到RAM上，则此芯片采用了那种体系结构？----------哈佛架构

运算器常简称ALU，其主要功能是进行哪两类运算？------算术运算，逻辑运算

存储器中以二进制形式存储数据和程序，半导体器件是存储二进制数的重要载体，请问哪种半导体器件具有0或1两个状态的存储功能？-------------------触发器

存储32位二进制数据需要几个触发器？------------32

控制器进行的每个基本操作（如取数，加等）称为一条-----------------指令

一台计算机的所有指令构成的集合称为------------------指令系统

指令序列（多条+有序）称为----------程序

指令运行需要时间，通常把取指令的时间称为------------取指周期

执行指令的时间称为---------执行周期

计算机系统部件之间信息传送的公共通路是-----------总线

完整的计算机系统应包括-----配套的硬件设备和软件系统




### 1.5.1 计算机系统的层次结构（图1.8）（P14）

计算机系统层次结构按从低到高的顺序依次为-----微程序设计级，一般机器级，操作系统级，汇编语言级，高级语言级




# 第二章

### 定点数的表示

若8位机表示的定点纯小数为（0110 0000），则该值对应的十进制数为+0.75
```
第一位是符号位 , 纯小数的小数点在符号位的后面,后面的110 0000为小数值,2^-1+2^-2
为0.75
```

---

若某8位机表示的定点纯整数为：（0110 0000），则该值对应的十进制数为+96
```
第一位0是符号位 , 纯整数小数点在最后一位的后面,所以0110 0000转换为十进制数为2^5+2^6
为96
```

---

二进制真值z=-100，则在4位机中的原反补移分别为--------1100，1011，1100，0100

移码 = 补码的符号位取反

---

>[! example]
>设尾数11位(含1位数符) , 将十进制数-58写成二进制定点数并写出它在定点机中的机器数形式

```
-58为32+16+8+2
写出来是111010 , 不足10位前面补0 
-0000111010              -----------------------------定点数     
数符是1
1 0000111010           --------------------------------机器数
```






### 浮点数的表示

>[! example]
>设浮点数字长16位 , 其中阶码5位(含1位阶符) , 尾数11位(含1位数符) , 将十进制数-58写成浮点数并分别写出它在浮点机中的机器数形式

```
浮点数规则是把其二进制写成以2为底的科学计数法 , 写成0.几 × 2^n
-58的二进制为-111010 , 所以是
-0.1110100000 × 2^6
把6变成二进制110
-0.1110100000 × 2^110       --------------------------浮点数

一共16位=阶码+尾数
110为正 , 所以阶符为0 , 数值为0110 (前面补0)
0 0110                             ----------------阶码
真值为负 , 所以数符为1 , 数值为1110100000
1 1110100000                          --------------------------尾数
所以加起来是
0 0110 1 1110100000      ------------------------机器码

```

十进制数浮点数9 * 10^-28对应的基数R=10,指数E=-28,尾数M=9

IEEE 754规定的单精度浮点数为32位，双精度浮点数为64位

IEEE 754规定浮点数表示中，固定基数R=2，符号位占1位，0为正数，1为负数

IEEE 754规定浮点数表示中，尾数采用原码纯小数表示，最高有效位隐含表示，不存储，即小数点左边隐藏有值    1   

指数真值e变成阶码E时，需将指数e加上固定偏移值，单精度时E=e+127；双精度时E=e+1023




### 2.2

##### 补码加/减法规则

```
y=-0.0101
[y]补码-----------1.1011，
[y/4]补码----------1.111011
[-y]补码----------0.0101
```


##### 溢出检测（例子，变形补码，单符号位）
- [ ] <span style="background:#ffff00">双符号法S1,S2</span>

通过对S1,S2的异或来判断溢出
```
00  ------0与0异或为0 ------不溢出
01  ------0与1异或为1 ------溢出(正溢)
10  ------1与0异或为1 ------溢出(负溢)
11  ------1与1异或为0 ------不溢出
```


> [!example ]
> x=0.11 , y=-0.111 , 利用补码加减法运算规则求x+y , x-y , 判断是否产生溢出?

```
用双符号来表示,x的补码为00.11 , y的补码为11.001
x的补码+y的补码为11.111
两个符号位都是1 , 所以不溢出
由于(x+y)的补码为11.111 , 所以x+y为-0.001

用双符号来表示,x的补码为00.11 , -y的补码为00.111
x的补码-y的补码为01.101
两个符号位,一个是0,一个是1,所以是正溢
```





- [ ] <span style="background:#ffff00">单符号法(进位法)Cf,Cn</span>

Cf:符号位进位
Cn:数值位最高位进位

通过对Cf和Cn的异或来判断溢出
```
Cf异或Cn
为0  ------不溢出
为1  ------溢出
```

>弊端:不知道正溢还是负溢

> [!example ]
> x=0.11 , y=-0.111 , 利用补码加减法运算规则求x+y , x-y , 判断是否产生溢出?

```
用单符号表示
x的补码为0.11 , y的补码为1.001
 0.110
+1.001
看左边的2×2格子,第一列的0和1相加不进位,记作0 ; 第二列的1和0相加不进位,记作0
0异或0还是0
所以不溢出

x的补码为0.11 , -y的补码为0.111
 0.110
+0.111
看左边2×2的格子,第一列的0和0相加不进位,记作0 ; 第二列的1和1相加进位,记作1
0异或1为1
所以溢出
```

> [!example]
> A=-87 , B=53 , 求A-B

```
A的补码为10101001 (第一位是符号位)
-B的补码为1001011
 10101001
+11001011 (为了对齐,在-B的补码前面补1)
看左边2×2的格子,一个进位,一个不进位 ,异或为1
所以溢出
```



 

##### 行波进位加减法器(串行进位加减法器)
![[fba7635d9e1475a46c1626e4b7bc6cb8.png]]
M:加法置为0 , 减法置为1
C<sub>0</sub>表示第一个进位,一般为0
S<sub>0</sub>为A0+B0的值
C1为A0+B0的进位
B0<sup>'</sup>为M与B0的异或
V为溢出 , 溢出则为1 , 不溢出则为0


##### 列举常见的运算器
行波进位的补码加法/减法器


##### 先行进位（并行进位）
并行进位加法器计算高位和时，不需要等待前一位FA的进位到达。


##### 进位链公式推导


# 第三章

计算机采用多级存储系统的目的是------------------提高性价比

多级存储系统利用具有哪些特性的存储器有机结合构成分层结构？
       不同容量的存储器
       不同成本的存储器
       不同功耗的存储器
       不同速度的存储器

构成多级存储系统的依据是----------------程序的局部性原理

关于程序的局部性原理错误的是-----------程序访问的地址空间只能局限于狭小范围内指令格式

主存和CPU之间增加cache的目的是-------解决cpu和主存之间的速度匹配问题

cache也算内存

一个变量在主存和cache的值实时保持一致

常用的内存条属于哪些类型的存储器:
	半导体存储器
	随机读写存储器
	RAM

某机字长为16位 , 主存容量为64kb , 若按字寻找 , 寻址范围为---------32k
```
一条地址是16位(2字节=2B)
一共容量为64kB
所以可以存64KB除以2B条地址
32k
```

存储器的存取周期---------存储器连续读和写的最小时间间隔



![[ad82063450442acf3d020e47108fc721.png]]
```
地址线是A ,所以有15条
每个A有2种情况 , 所以是2^15种情况
所以是32K (1K=2^10)

数据线是V , 有8条
8个bit , 一个字节一条地址
所以容量有32KB
```


DRAM存储器的存储位元主要由哪些器件组成  ------------------MOS晶体管,电容器

哪些因素决定了DRAM需刷新?
	读出时破坏了电容上存储的信息
	电容上的电荷量会随着时间推移而减少
	电容上的电荷量会随着温度变化而减少

子扩展和位扩展都满足时 ， 首选位扩展





### 3.2
##### SRAM存储元

SRAM芯片大多采用双译码方式的目的是为了  -----------------减少选择线数目

SRAM采用<u>锁存器</u>作为一位存储元


##### 存储阵列（图3.4）


##### 逻辑图
```
用若干块512K×16位的SRAM芯片 , 设计一个2M×32位的内存
```

```
数据寄存器=数据线条数=32条
地址寄存器=地址线条数=21条 (2M=2^21)
位扩展需要×2,字扩展需要×4 , 所以需要8个芯片
```

> [!question]
> 一半数量的芯片数据线接D15-D0 , 另一半接D31-D16
> 2:4译码器的输出接到每组芯片的CS端

```
  一组有两个芯片 , 因为位扩展×2了 , 但是每个芯片都能连接19根地址线
  2:4译码器的B和A是两个输入端 , Y接口是输出端 , 连接的是一组芯片,不是单独一个
  由题可知 , 数据线是每个芯片可以连接16根
```


### 3.6
cache，命中率，映射（直接映射：图3.31abc，P96第二，三段文字：主存地址格式，cache每行构成—标记+数据块，标记存区号：分区数，块大小，块数，cache行数，cache容量，给定一个数组，定位元素所在的位置—主存的地址，主存块号，cache行，练习册P42第20题）

主存物理地址=块号+块内地址

全相联映射：主存物理地址=标记（唯一标识cache的二进制数）+块内地址
组相联映射：主存物理地址=标记+组号+块内地址
直接映射：主存物理地址=标记+cache行号（其实也是组号，只不过是一行一组）+块内地址


# 第四章

指令系统是一台机器硬件能执行的指令全体

指令系统是计算机软件和硬件之间的接口

指令系统和机器语言无关   ×

正在执行的指令存储在----指令寄存器

在CPU执行指令的过程中，指令的地址由---程序计数器---给出

某指令字为16位，操作码长6位，则此指令格式能编码—64条指令

某指令系统有200条指令，操作码采用固定长度的二进制编码，操作码至少需要--8位



### 4.2.1 指令格式，操作码长度

某指令系统有200条指令 , 操作码采用固定长度的二进制编码 , 操作码至少需要-----------8位
```
2^7=128
2^8=256
有200条指令,所以至少需要8条
```

---

![[d1f28e90d134837416f6792a461a2f39.png]]
```
有分开了两个寄存器,那就是2地址指令
10-15有6位
6位,可以编码2^6条指令
RR----寄存器寄存器√
RS----寄存器存储器
SS----存储器存储器
	如果一个是源寄存器,一个是变址寄存器,那就是RS , 因为变址寄存器不是通用寄存器
0-4和5-9都是5 , 所以需32个通用寄存器
```

---

![[e68921f2da5cb403784044a9ba277a32.png]]
```
地址码固定为12位
二地址指令就是8(操作码)+12(地址码)+12(地址码)
单地址指令就是20(操作码)+12(地址码)

二地址指令中一共可以定义256条指令(2^8) , 题目说已经定义了250条了 , 那就还有6条可以选择
前8位只有6种可能 , 后12位有2^12种可能 , 那就是24k条单地址指令(6*4*2^10)
```



### 4.2.2 指令的二进制表示(汇编语言)
具体指令得二进制表示：P126页例4.4---MIPSR4000，其指令格式P124页，指令字段P125页表4.4，汇编语言的二进制代码（表4.5如add，幻灯片23）

### 4.4 寻址方式

<mark style="background: #D2B3FFA6;">指令的寻址方式</mark>:`顺序寻址方式`和`跳跃寻址方式`

##### 操作数的基本寻址方式:
- [ ] <mark style="background: #FFFF00;">隐含寻址</mark>
比如单地址指令 , 有一个操作数在指令里 , 另一个在累加寄存器AC中

- [ ] <mark style="background: #FFFF00;">立即寻址</mark>
地址字段给出的不是操作数的地址 , 而是操作数本身
>节省了访问内存的时间

- [ ] <mark style="background: #FFFF00;">直接寻址</mark>
在地址字段直接指出操作数在内存上的地址(有效地址,不需要经过某种变换)
>简单

- [ ] <mark style="background: #FFFF00;">间接寻址</mark>
地址字段给出的是无效地址,需要寻址特征给予提示
>两次访存,影响速度

- [ ] <mark style="background: #FFFF00;">寄存器寻址</mark>
地址字段给出的是寄存器的编号

- [ ] <mark style="background: #FFFF00;">寄存器间接寻址</mark>
地址字段依然给出的是寄存器的编号,只是寄存器里不是操作数,而是操作数的地址,还要进一步访问内存

- [ ] <mark style="background: #FFFF00;">偏移寻址</mark>
直接寻址和寄存器间接寻址的结合
>灵活 但复杂

- <mark style="background: #ADCCFFA6;">相对寻址</mark>
以<mark style="background: #D2B3FFA6;">程序计数器PC</mark>所指向的地址作为起点 , 形式地址作为偏移量
>用于转移指令

- <mark style="background: #ADCCFFA6;">基址寻址</mark>
以程序的起始存放位置作为起点 , 形式地址作为偏移量
>用于多道程序并发运行

- <mark style="background: #ADCCFFA6;">变址寻址</mark>
程序员自己决定起点 , 以形式地址作为基地址
不同的是寄存器里的是偏移量 , 形式地址作为基地址
>用于循环 , 数组
![[7f1c5422ff4aa133b564675814797381.png]]
```
直接寻址
相对寻址
变址寻址
寄存器间接寻址
间接寻址
基址寻址
```

指令系统中采用不同寻址方式的目的主要是-----------------缩短指令长度 ,扩大寻址空间 ,提高编程灵活性

单地址码指令中,为了完成两个数的算术运算,除了地址码指明的一个操作数外,另一个数常采用
	-----------隐含寻址方式

最适合按下标顺序访问一维数组元素的是------------变址寻址








# 第五章

CPU的主要功能:指令控制 , 操作控制 , 时间控制 , 数据加工

CPU的主要组成部件:运算器 , 控制器 , cache

保存当前正在执行指令的寄存器是-------------指令寄存器IR

CPU中跟踪指令后继地址的寄存器是---------程序计数器PC

通用寄存器------可编程指定多种功能的寄存器

对汇编语言程序员可见的是-------程序计数器PC

计算机操作的最小时间单位是-------时钟周期

CPU区分指令和数据的依据是-------------指令周期的不同阶段




### 5.1.3 主要寄存器（列举，功能）
数据缓冲寄存器DR (Data buffering register)   ------暂时存放ALU的运算结果
指令寄存器IR (instruction register)  ------保存当前正在执行的一条指令
程序计数器PC (program counter)    -------保存下一条要执行的指令的地址
数据地址寄存器AR (address register)       -------保存当前CPU所访问的数据寄存器单元的地址
通用寄存器         --------------通过被编址 转换成其他寄存器
程序状态字寄存器PSWR (program state word register)        -------------保存各种条件代码


### 5.2.7 数据通路图,指令周期流程图
![[447ae1630b8fd9f809f12944028400be.png]]

画出"ADD R2,R0"指令((R0)+(R2)->R0)的指令周期流程图
![[Pasted image 20230623134447.png|450]]



### 5.4 微程序控制器的组成（图5.24）

一条机器指令由一段微指令编成的微程序来执行



### 5.6流水CPU

指令流水中，形成操作数的有效地址EA并取出操作数的过程段的是--------------译码ID

>流水CPU就是流水化的 , 与串行处理不同 , 当取指和译码在指令部件执行时 , 指令队列也在工作 , 执行部件也在执行着指令 , <mark style="background: #D2B3FFA6;">各个部件都一起工作</mark>

流水线每个功能部件后面都有一个缓冲寄存器 , 用于保存本流水段的执行结果 , 供下一流水段使用

超标量流水线:
```
可以在一个时钟周期内同时发射多条指令
能结合动态调度技术
```

流水线按指令级别分类:
```
指令流水
算术流水
处理机流水
```


![[Pasted image 20230623113323.png]]

t1-t6指的是指令
图中是五级指令流水线(取指 , 译码取数 , 执行 , 访存 , 写回)
3个时钟周期的阻塞
```
所以由于数据相关 , 引起流水线阻塞的是2,3,4,6指令
```



# 题型

1.单选题（20个）----40分
2.填空题（15个）-----15分
3.简述题（4个）-----20分
4.综合题（5个）-----25分
       读图题，<mark style="background: #FFFF00;">设计题</mark>，证明题，作图题，<mark style="background: #FFFF00;">计算题</mark>，分析题，解析题



9号楼-514
15167374084




























