# 概述
### 计算机网络分为什么？
从组成部分看：计算机网络由<u>硬件，软件，协议</u>组成

==从工作方式：计算机网络还可以分为 ***边缘部分***【用户用的设备】 和 ***核心部分***【大量的网络，路由器】==

从功能：计算机网络分为 资源子网【相当于淘宝卖家】 和 通信子网【相当于快递】
### 功能
- 数据通信
- 资源共享
- 分布式处理【把复杂工作交给网络上的某台计算机】
- 提高可靠性【例如A计算机坏了，用B计算机】
- 负载均衡
### 性能指标
发送时延：最后一个bit发送完毕的时间 - 第一个bit发送的时间【==注意发送时延跟接收方没关系==】

传播时延：一个bit 从链路一段到另一端的时间
往返时间RTT：指的是发送方需要多少时间才知道自己发送的数据已经被接收了
往返时间RTT = 2 * 传播时延

处理时延：路由器等设备在处理数据时所花费的时间

排队时延：数据进入路由器等待处理的时间

往返时延：从发送端发送数据开始，到发送端接受到来自接收端确认所花费的时间

---
***总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延***

---
吞吐量：单位时间内通过***某个网络接口***的数据量
速率：连接到接口上的***主机上***的传输速率，最高数据率称为==带宽==

时延带宽积：发送端发送的第一个bit到达终点时，已经发送出去了多少个bit【==也就是此时此刻信道上有多少数据==】。***时延带宽积 = 传播时延  \* 信道带宽***
# 分层
==协议：是由 语法【规定传输格式】，语义【规定要完成的功能】，同步【规定各种操作的时序关系】组成的规则的集合==

接口：是相邻两层交换信息的连接点

服务：是下层为上层提供的功能
### OSI模型
![[Excalidraw/杂/草稿纸 Draw.md#^group=LR8iAK58|800]]
- 物理层：传输单位是bit，功能是透明传输比特流
- 数据链路层：传输单位是帧，将网络层传来的ip数据报组装成帧
- 网络层：传输单位是数据报，功能是网络层之间的连接和报文的转发路由,实现主机与主机之间的逻辑通信
- 传输层：传输单位是报文段，负责主机中两个进程的通信
- 会话层：会话层允许不同主机间各个进程的会话，会话层利用传输层的服务，为表示层建立连接
- 表示层：就是把二进制数据变成某些可读的形式
- 应用层：用户与网络的界面
### TCP/IP模型
![[Excalidraw/杂/草稿纸 Draw.md#^group=e3pJyKNr|700]]

>[!hint] OSI 与 TCP/IP 的区别
>- TCP/IP在服务，协议，接口上没有明确的区分
>- OSI在网络层有面向连接和无连接，在传输层只有面向连接
>- TCP/IP在网际层只有无连接，但在传输层支持无连接和面向连接
# 物理层
### 通信基础
信号：数据的电磁表现

码元：用固定时长的信号波形表示一位k进制的数字

信源：产生数据的源头

信宿：接受数据的终点

信道：信号传输的媒介

###### 单工通道
>只有一个方向的通信，只能 A-->B 或者 B-->A
###### 半双工通道
>每个通道都允许数据在两个方向上传输，但是每个通道在同一时刻只能进行单向传输
###### 全双工通道
>通信的两个节点可以同时发送和接收数据，而不需要等待对方完成传输
### 🌗nice定理 
$$
理想低通信道下的极限数据传输速率 = 2Wlog₂V
$$
W ：信道带宽
V：每个码元离散电平的数目

***在任何信道，码元传输速率都是有上限的，如果超过此上限，就会出现码元扰乱问题，接收端就不能正确接收识别***
### 🌗香农公式
$$
信道的极限数据传输速率 = Wlog₂(1+\frac{S}{N})
$$
W：带宽
S/N：信噪比

***对一定的传输带宽，和一定的信噪比，信息传输速率的上限是确定的***
### 编码与调制
编码：数据变换为数字信号的过程

调制：数据变换为模拟信号的过程




### 🌗电路交换，报文，分组交换



##### 🌑数据报，虚电路


### 传输介质，物理层设备


### 接口特性
# 数据链路层
### 功能
##### 向网络层提供服务
- 无确认的无连接服务
>发送数据帧时不需要建立连接，目的机器收到数据时也不需要发回确认

- 有确认的无连接服务
>发送数据帧时不需要建立连接，目的机器收到数据时需要发回确认

- 有确认的有连接服务
>发送数据帧时需要建立连接，目的机器收到数据时需要发回确认
##### 透明传输
##### 流量控制
##### 差错控制
### 组帧
##### 字符计数法
>在每一帧的起始位置定义帧内字符数
>![image.png](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/20231222162822.png)

>[!attention] 如果帧内第一个字符数在传输时出现差错，那么将是灾难性的
##### 字符填充的首尾定界符法
>![[Excalidraw/杂/草稿纸 Draw.md#^group=u14NPzG8|700]]
##### 零比特填充的首尾标志法
>每当遇到5的1就填充一个0
>![image.png](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/20231222165154.png)
### 差错控制
##### 检错编码
###### 奇偶校验码
```
001001  // 原本要传输的数据
1001001  // 在开头加上0/1之后，要保证总数1为奇数

001001  // 原本要传输的数据
001001  // 在开头加上0/1之后，要保证总数1为偶数
```
###### 循环冗余码
![[Excalidraw/杂/草稿纸 Draw.md#^group=HI66uiPp|780]]
### 🌗流量控制与可靠传输机制
##### 滑动窗口机制
###### 停止---等待
>发送方每发送一帧，都要等待接受方的应答，才能发送下一帧。接收方接受到数据后，都要返回应答信号
###### 后退n帧
>连续发送多个帧，如果有帧出错了，那就从出错的那一帧开始丢弃，再重新发
>![[Excalidraw/杂/草稿纸 Draw.md#^group=yeKB6Zqq|670]]
###### 选择重传
>不会丢弃出错的帧的后续的帧
>![image.png](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/20231222191031.png)
>此处要满足***接收窗口数 + 发送窗口数 ≤ 序列号数【16】***
### 🌗介质访问控制
##### 频分多路复用
>一条大道分成两条小道
##### 时分多路复用
>比如1-2点给A用，2-4点给B用
##### 波分多路复用
>A 和 B 用不同的波长给C传输数据
##### 码分多路复用
>在传输之前，混合A 和 B ，然后在目的地C解析
>![[Excalidraw/杂/草稿纸 Draw.md#^group=CEnog6GP|790]]
##### 纯aloha协议
>***不进行检测***就发送数据，如果在一段时间内未被确认，就会重新发送数据

可能发生数据冲突
##### 时隙aloha协议
>在每个规定的间隙的开始发送数据，减少数据冲突的可能
##### CSMA协议
>发送数据时，首先监听信道
>![image.png](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/20231222213854.png)
##### 🌑CSMA/CD协议
>先听后发，边听边发，冲突停发，随机重发







### 🌗局域网，广域网


### 设备


---
习题
- 第一章 √
- 二
- 三
- 四
- 五
- 六
- 七










