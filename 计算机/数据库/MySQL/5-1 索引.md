
>[!quote] 索引
>索引是<u>高效获取数据</u>的数据结构，MySQL 中的索引有多种，默认是 B
>+Tree 索引
>
>- **优点**
> 	- 提高搜索的效率
> 	- 优化了 `ORDER BY` 操作
> - **缺点**
> 	- 会占用存储空间
> 	- 降低了 `INSERT`，`UPDATE`，`DELETE` 的效率【~~因为修改数据时需要重新维护数据结构~~】

# 索引分类
>[!hint] 按物理存储方式分
>- **聚集索引**：数据行的排列顺序 = 实际存储的物理顺序 = 索引顺序
>	- 一个表只能有一个聚集索引【~~因为数据行只能有一种物理顺序~~】
>	- 聚集索引通常用于主键
>	- 一定会有聚集索引
>		- 如果表中有主键，则主键索引就是聚集索引
>		- 如果表中没有主键，则唯一索引就是聚集索引
>		- 如果表中没有主键，没有唯一约束，则会自动生成聚集索引
>- **二级索引 / 辅助索引**：查找时，数据库先通过二级索引找到指针，再通过指针找到实际数据行【~~所以叫二级索引~~】
>	- 二级索引不会影响表的物理排列顺序

>[!hint] 按功能分
>- **主键索引**：当我为一张表创建主键后，MySQL 会自动帮我们为主键字段创建一个主键索引【~~主键索引是所有索引中性能最高的~~】
>	- 通常是聚集索引，但也可以是非聚集索引
>- **唯一索引**：当我为一张表创建唯一约束后，MySQL 会自动帮我们为该字段创建一个唯一索引
>- **常规索引**：就是自己创建的索引，没有任何约束
>- **全文索引**：它允许用户搜索文本中的关键词，而不是搜索具体的值【~~通常用于大型文本字段（文章，书籍）~~】

# 索引结构
- **B + Tree 索引**：<u>最常用的索引结构</u>【~~InnoDB，MyISAM，Memory~~】
	- MySQL 中对 B + Tree 做了优化，将最后所有叶子节点的单向链表改为了双向链表
- Hash 索引：性能很高，但是不支持范围查询，因为哈希表无序【~~Memory~~】
- R-Tree 空间索引：主要用于地理空间【~~MyISAM~~】
- Full-Text 全文索引：快速匹配文档【~~InnoDB，MyISAM~~】

还需要重看<u>黑马MySQL数据库入门到精通，2h轻松掌握mysql检索优化技术</u>的 3 - 6 集

# 操作
## 创建索引
```sql
CREATE [UNIQUE] INDEX 索引名 ON 表名(字段名);

---

CREATE INDEX idx_emp_name ON emp(name);
```

## 查看索引
```sql
SHOW INDEX FROM 表名;
```

## 删除索引
```sql
DROP INDEX 索引名 ON 表名;
```



