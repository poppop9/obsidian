
# 分库分表概念
>[!hint] 如果一个系统可以预测将来数据量会很大，那么在一开始开发就可以上分库分表，因为技术已经成熟了
>推荐是单表行数 > 500w 行，或者单表容量超过 2 GB，才推荐分库分表

<u>分库</u> ：
- 垂直分库：DB【表1】 -- 按照模块来拆分 --> DB1【表1】，DB2【表2】
- 水平分库：DB【表1】 -- 按照某个范围拆分 --> DB1【表1】，DB2【表2】

<u>分表</u> ：
- 垂直分表：表1【10 字段，100w 数据】 -> 表1【5 字段，100w 数据】，表2【5 字段，100w 数据】
- 水平分表：表1【10 字段，100w 数据】-> 表1【10 字段，50w 数据】，表2【10 字段，50w 数据】

# ShardingSphere 架构
ShardingSphere 包括：
- ShardingSphere-JDBC 客户端分库分表
- ShardingSphere-Proxy 服务端分库分表，是一个独立部署的项目，而 Java 项目不是直接操作数据库了，而是操作 ShardingSphere-Proxy，再由 ShardingSphere-Proxy 操作数据库


# ❤️ ShardingSphere-JDBC
## 💛 分表策略
>[!hint] 分表策略很重要 ! ! ! 策略用的不好，到时候很影响性能的，要结合业务场景来

- 哈希取模 ：数据 id 对表的总数进行取模，余数决定数据落在哪个表
	- 迁移麻烦
- 范围分表 ：规定哪个范围的数据落在哪张表
	- 无需数据迁移
	- 可能某张表的压力会很大



---

canal
elasticsearch


