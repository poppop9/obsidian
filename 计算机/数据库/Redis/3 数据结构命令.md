>[!quote] Redis 支持的数据结构
>- 基本数据类型
> 	- `字符串 String`【**默认**】：可存储 512 MB
> 	- `列表 List`：字符串有序列表，<u>按照插入顺序排序</u>【可以把元素添加到列表的头部，或者尾部。可存储 40 多亿元素
> 	- `集合 Set`：字符串无序列表，集合中不允许有重复值，通过哈希表实现
> 	- `有序集合 ZSet`：字符串集合，且不允许重复的成员，每个元素都会关联一个 double 类型的分数，分数可以重复，redis 可以通过分数来为集合中的成员进行<u>从小到大</u>的排序
> 	- `哈希 Hash`：可存储 40 多亿个键值对，**适合存储对象**
> - 高级数据类型
> 	- 消息队列 Stream
> 	- 地理空间 Geospatial
> 	- HyperLogLog
> 	- 位图 Bitmap
> 	- 位域 Bitfield

# 字符串
## 设置
- `SET 键 值` 


## 获取
- `GET 键` 
- `GETRANGE 键 索引1 索引2` 


- `DEL 键`

```bash
SET name redis
GET name
DEL name

---
"redis"
```

| 序号  | 命令及描述                                                                                                                                               |
| --- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| 3   | [GETRANGE key start end](https://www.runoob.com/redis/strings-getrange.html)  <br>返回 key 中字符串值的子字符                                                  |
| 4   | [GETSET key value](https://www.runoob.com/redis/strings-getset.html)  <br>将给定 key 的值设为 value ，并返回 key 的旧值(old value)。                               |
| 5   | [GETBIT key offset](https://www.runoob.com/redis/strings-getbit.html)  <br>对 key 所储存的字符串值，获取指定偏移量上的位(bit)。                                          |
| 6   | [MGET key1 [key2..]](https://www.runoob.com/redis/strings-mget.html)  <br>获取所有(一个或多个)给定 key 的值。                                                     |
| 7   | [SETBIT key offset value](https://www.runoob.com/redis/strings-setbit.html)  <br>对 key 所储存的字符串值，设置或清除指定偏移量上的位(bit)。                                 |
| 8   | [SETEX key seconds value](https://www.runoob.com/redis/strings-setex.html)  <br>将值 value 关联到 key ，并将 key 的过期时间设为 seconds (以秒为单位)。                   |
| 9   | [SETNX key value](https://www.runoob.com/redis/strings-setnx.html)  <br>只有在 key 不存在时设置 key 的值。                                                      |
| 10  | [SETRANGE key offset value](https://www.runoob.com/redis/strings-setrange.html)  <br>用 value 参数覆写给定 key 所储存的字符串值，从偏移量 offset 开始。                    |
| 11  | [STRLEN key](https://www.runoob.com/redis/strings-strlen.html)  <br>返回 key 所储存的字符串值的长度。                                                             |
| 12  | [MSET key value [key value ...]](https://www.runoob.com/redis/strings-mset.html)  <br>同时设置一个或多个 key-value 对。                                        |
| 13  | [MSETNX key value [key value ...]](https://www.runoob.com/redis/strings-msetnx.html)  <br>同时设置一个或多个 key-value 对，当且仅当所有给定 key 都不存在。                  |
| 14  | [PSETEX key milliseconds value](https://www.runoob.com/redis/strings-psetex.html)  <br>这个命令和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，而不是像 SETEX 命令那样，以秒为单位。 |
| 15  | [INCR key](https://www.runoob.com/redis/strings-incr.html)  <br>将 key 中储存的数字值增一。                                                                    |
| 16  | [INCRBY key increment](https://www.runoob.com/redis/strings-incrby.html)  <br>将 key 所储存的值加上给定的增量值（increment） 。                                      |
| 17  | [INCRBYFLOAT key increment](https://www.runoob.com/redis/strings-incrbyfloat.html)  <br>将 key 所储存的值加上给定的浮点增量值（increment） 。                          |
| 18  | [DECR key](https://www.runoob.com/redis/strings-decr.html)  <br>将 key 中储存的数字值减一。                                                                    |
| 19  | [DECRBY key decrement](https://www.runoob.com/redis/strings-decrby.html)  <br>key 所储存的值减去给定的减量值（decrement） 。                                        |
| 20  | [APPEND key value](https://www.runoob.com/redis/strings-append.html)  <br>如果 key 已经存在并且是一个字符串， APPEND 命令将指定的 value 追加到该 key 原来值（value）的末尾。          |




# 列表 List
- **添加**
	- 左插入 `lpush 集合名 值` 
	- 右插入 `rpush 集合名 值` 
- **删除**
	- 左删除几个元素 `lpop 集合名 [数字]` 【不加数字表示删除一个】
	- 右删除几个元素 `rpop 集合名 [数字]`
	- 只保留索引 1 到索引 2 之间的元素 `LTRIM 集合名 索引1 索引2`
- **查看**
	- 查看列表元素个数 `LLEN 集合名` 
	- 按照索引遍历集合 `lrange 集合名 索引1 索引2` 【索引 2 如果是 “-1”，表示最后一个元素】

```bash
# 会返回列表的长度
127.0.0.1:6379> lpush list1 rerere
(integer) 1

127.0.0.1:6379> lpush list1 rere2
(integer) 2

127.0.0.1:6379> rpush list1 rere3
(integer) 3

127.0.0.1:6379> lrange list1 0 2
1) "rere2"
2) "rerere"
3) "rere3"

# 从0开始遍历，知道最后一个元素
127.0.0.1:6379> lrange list1 0 -1
1) "rere2"
2) "rerere"
3) "rere3"
```

# 集合 Set
- **添加** `sadd 集合名 值` 
- **删除** `SREM 集合名 值`
- **查看**
	- 遍历 `smembers 集合名` 
	- 判断某个值是否在集合中 `SISMEMBER 集合名 值`

```bash
127.0.0.1:6379> sadd set1 green
(integer) 1

127.0.0.1:6379> sadd set1 red
(integer) 1

# 返回0，表示集合中已经有了相同的值
127.0.0.1:6379> sadd set1 red
(integer) 0

127.0.0.1:6379> sadd set1 black
(integer) 1

127.0.0.1:6379> SMEMBERS set1
1) "green"
2) "red"
3) "black"

127.0.0.1:6379> SISMEMBER red
(integer) 1
```

# 有序集合 ZSet
- **添加**元素，和分数 `zadd 集合名 分数 值` 
- **查看**
	- 获取某个分数 `ZSCORE 集合名 值` 
	- 获取排名 `ZRANK 集合名 值`
	- 反向获取排名 `ZREVRANK 集合名 值`
	- 遍历
		- 根据分数范围遍历集合 `ZRANGEBYSCORE 集合名 分数1 分数2` 
		- 根据索引遍历值 `ZRANGE 集合名 索引1 索引2`
		- 根据索引遍历值，和分数 `ZRANGE 集合名 索引1 索引2 WITHSCORES`

```bash
redis 127.0.0.1:6379> zadd runoob 0 redis
(integer) 1

redis 127.0.0.1:6379> zadd runoob 0 mongodb
(integer) 1

redis 127.0.0.1:6379> zadd runoob 0 rabbitmq
(integer) 1

redis 127.0.0.1:6379> ZRANGEBYSCORE runoob 0 1000
1) "mongodb"
2) "rabbitmq"
3) "redis"
```

# 哈希 Hash
- **添加** `HMSET 集合名 键名1 值1 键名2 值2` 
- **删除** `DEL`
- **查看** `HGET 集合名 键名` 

```bash
redis 127.0.0.1:6379> HMSET runoob field1 "Hello" field2 "World"
"OK"

redis 127.0.0.1:6379> HGET runoob field1
"Hello"

redis 127.0.0.1:6379> HGET runoob field2
"World"

redis 127.0.0.1:6379> DEL runoob
(integer) 1
```
