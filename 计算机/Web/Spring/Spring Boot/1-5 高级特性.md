https://cloud.baidu.com/article/3318850
https://blog.csdn.net/Andya_net/article/details/131188311

# ❤ SpringBoot 的启动流程
## 启动类的 main 方法
- 首先，从一个标注了 @SpringBootApplication 的 main 方法开始
- 运行 run() 方法，把主类，和 args 参数传递进去

```java
@SpringBootApplication
public class KafkaApplication {
    public static void main(String[] args) {
        SpringApplication.run(KafkaApplication.class, args);
    }
}
```

## 创建 ApplicationContext
根据应用类型，创建相应的 ApplicationContext

## 刷新 ApplicationContext
加载并初始化所有的 Bean

## 自动配置
根据依赖，和 application 配置文件进行自动配置

## 启动内嵌服务器
如果是 Web 应用，则启动


## 执行 CommandLineRunner 和 ApplicationRunner
`ApplicationRunner` 是 SpringBoot 的启动运行器，它会在应用程序启动完成后执行一些初始化操作

```java
@Component
public class KafkaProducerConfig {
    // 在启动时，执行一些操作
    @Bean
    public ApplicationRunner runner(KafkaTemplate<String, String> kafkaTemplate) {
        return args -> {
            kafkaTemplate.send("TopicTwo", "Hello World");
        };
    }
}
```

# ❤ 禁用依赖
要想启动项目，传统方法就是自己安装所有依赖，但如果项目只有一个不起眼的位置用到了某个依赖，其实花时间去安装性价比不高。这时，我们可以用一种更简单的方法，直接禁用掉用到这些依赖的 Bean 加载。

比如在启动类加上 `exclude` ，就能快速禁用某些依赖的自动加载，示例代码如下：

```
@SpringBootApplication(exclude = {RocketMQAutoConfiguration.class})
```

但是，禁用了 RocketMQ Bean 的初始化后，如果有代码用到了这个 Bean，就会因为缺失依赖的 Bean 而报错。这种情况下，可以使用 `@Lazy` 注解对 Bean 进行懒加载，用到的时候才会加载，启动项目时就不会报错了~ 示例代码如下：

```
public class MQProducer {
    @Autowired
    @Lazy
    private RocketMQTemplate rocketMQTemplate;
}
```







