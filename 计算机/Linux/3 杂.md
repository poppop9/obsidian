# 变量
>[!hint] 变量
>- 与其他编程语言相同，有类型，有作用域，可以给变量赋值
>- 变量名只能是英文字母、数字或者下划线，且不能以数字作为开头

- 创建变量 `declare 变量名`
- 给变量赋值 `tmp=shiyanlou` 
- 读取变量 `echo $变量名` 【~~`$` 表示引用一个变量的值~~】

```bash
$ declare testname                             
$ testname=ttt111                                                       
$ echo $testname                                           
ttt111
```

## 环境变量
>[!hint] 为了与普通变量区分，通常我们习惯将环境变量名**大写**

- 每个进程都有其各自的环境变量设置
- 默认情况下，当一个进程被创建时，它将继承其父进程的绝大部分环境设置【~~如果不在创建过程中明确指定的话~~】
- 某个进程的环境变量作用于自身和它的子进程

>[!hint] Shell 程序也作为一个进程运行在操作系统之上，而我们在 Shell 中运行的大部分命令都将以 Shell 的子进程的方式运行

### 变量类型
- 当前 Shell 进程<u>私有用户自定义变量</u>【上面我们创建的 tmp 变量，只在当前 Shell 中有效】
- Shell 本身内建的变量
- 从自定义变量导出的环境变量


### 打印环境变量
![300](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/202403271030969.png)

- `set`：显示当前 Shell 所有变量，包括其内建环境变量【与 Shell 外观等相关】，用户自定义变量，导出的环境变量
- `env`：显示与当前用户相关的环境变量，还可以让命令在指定环境中运行
- `export`：显示从 Shell 中导出成环境变量的变量，也能通过它将自定义变量导出为环境变量

---

>[!hint] 如何区分 变量 与 环境变量 ？
>>某个变量在当前进程的子进程有效则为环境变量
>
> ```bash
> # 将普通变量转为环境变量
> $ temp1=aaa                                                                       
> $ echo $temp1                                                                
> aaa
> 
> # 创建子 shell
> $ zsh             
> # 打印出来值为空
> $ echo $temp1                                                               
> 
> # 退出子 shell
> $ exit                                                                               
> $ echo $temp1                                                                 
> aaa
> 
> # 导出temp1为环境变量
> $ export temp1                                                                      
> $ zsh                                                                                     
> $ echo $temp1                                                                             
> aaa
> ```

### 变量的生存周期
- 永久的：需要修改配置文件，变量永久生效 
- 临时的：使用 export 命令行声明即可，变量在关闭 shell 时失效

- 

这里介绍两个重要文件 `/etc/bashrc`（有的 Linux 没有这个文件） 和 `/etc/profile` ，它们分别存放的是 shell 变量和环境变量。还有要注意区别的是每个用户目录下的一个隐藏文件：


这个 .profile 只对当前用户永久生效。因为它保存在当前用户的 Home 目录下，当切换用户时，工作目录可能一并被切换到对应的目录中，这个文件就无法生效。而写在 `/etc/profile` 里面的是对所有用户永久生效，所以如果想要添加一个永久生效的环境变量，只需要打开 `/etc/profile`，在最后加上你想添加的环境变量就好啦。

























