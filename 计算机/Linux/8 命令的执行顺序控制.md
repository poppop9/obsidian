# 顺序执行多条命令
## 简单顺序执行
- 简单的顺序执行使用 `;` 

```bash
sudo apt-get update
sudo apt-get install some-tool
some-tool

# 以上三条命令可以简化成
sudo apt-get update;sudo apt-get install some-tool;some-tool
```

>[!hint] 如果简单顺序执行命令时，前面的命令执行不成功，而后面的命令又依赖于上一条命令的结果，那么就无法直观的判断结果是否正确，所以我们有了<u>选择执行</u>

## 选择执行
```bash
which cowsay>/dev/null && cowsay -f head-in ohch~
```

你如果没有安装 `cowsay`，你可以先执行一次上述命令，你会发现什么也没发生，你再安装好之后你再执行一次上述命令，你也会发现一些惊喜。

上面的 `&&` 就是用来实现选择性执行的，它表示如果前面的命令执行结果（不是表示终端输出的内容，而是表示命令执行状态的结果）返回 0 则执行后面的，否则不执行，你可以从 `$?` 环境变量获取上一次命令的返回结果：

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid1labid63timestamp1544148440172.png)

学习过 C 语言的用户应该知道在 C 语言里面 `&&` 表示逻辑与，而且还有一个 `||` 表示逻辑或，同样 Shell 也有一个 `||`，它们的区别就在于，shell 中的这两个符号除了也可用于表示逻辑与和或之外，就是可以实现这里的命令执行顺序的简单控制。`||` 在这里就是与 `&&` 相反的控制效果，当上一条命令执行结果为 `≠0(\$?≠0)` 时则执行它后面的命令：

```bash
which cowsay>/dev/null || echo "cowsay has not been install, please run 'sudo apt-get install cowsay' to install"
```

除了上述基本的使用之外，我们还可以结合着 `&&` 和 `||` 来实现一些操作，比如：

```bash
which cowsay>/dev/null && echo "exist" || echo "not exist"
```

![此处输入图片的描述](https://doc.shiyanlou.com/document-uid735639labid63timestamp1532414664955.png)

我画个流程图来解释一下上面的流程：

![1](https://doc.shiyanlou.com/linux_base/8-3.png)





























































