
>[!hint] æ—¥æœŸæ—¶é—´ä½¿ç”¨ `java.time` ï¼Œè€Œä¸æ˜¯ `java.utils.Date` ï¼Œåè€…æœ‰å¾ˆå¤šç¼ºé™·ã€éçº¿ç¨‹å®‰å…¨ï¼Œè®¾è®¡ä¸åˆç†ï¼Œä¸æ”¯æŒæ—¶åŒºã€‘

# â¤ LocalDateTime
>[!hint] æœ¬åœ°çš„æ—¥æœŸæ—¶é—´å¯¹è±¡æœ‰ä¸‰ç§ï¼š
>- `LocalDateTime` æ—¥æœŸæ—¶é—´
>- `LocalDate` æ—¥æœŸ
>- `LocalTime` æ—¶é—´

---

>[!warning] è™½ç„¶æŠŠ<u>è·å–å¯¹è±¡</u>ï¼Œå’Œ<u>è·å–å€¼</u>åˆ†å¼€ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡ä¸­éƒ½å®ç°äº† `toString() æ–¹æ³•` ï¼Œæ‰€ä»¥æ‰“å°å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ‰“å°å€¼

## ğŸ’› è·å–æ—¥æœŸæ—¶é—´å¯¹è±¡
### è·å–å½“å‰æ—¥æœŸæ—¶é—´å¯¹è±¡
- `LocalDateTime now()` è·å–å½“å‰æ—¥æœŸæ—¶é—´å¯¹è±¡
- `LocalDate now()` è·å–æ—¥æœŸå¯¹è±¡
- `LocalTime now()` è·å–æ—¶é—´å¯¹è±¡

### ä»å¯¹è±¡ä¸­è·å–å¯¹è±¡
- `LocalDate toLocalDate()` ä»æ—¥æœŸæ—¶é—´å¯¹è±¡è·å–æ—¥æœŸå¯¹è±¡
- `LocalTime toLocalTime()` ä»æ—¥æœŸæ—¶é—´å¯¹è±¡è·å–æ—¶é—´å¯¹è±¡

### ä»å­—ç¬¦ä¸²ä¸­è·å–å¯¹è±¡
- `LocalDateTime.parse(æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²);` æ ¹æ®å­—ç¬¦ä¸²åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡
- `LocalDate LocalDate.parse(æ—¥æœŸå­—ç¬¦ä¸²);` æ ¹æ®å­—ç¬¦ä¸²åˆ›å»ºæ—¥æœŸå¯¹è±¡
- `LocalTime LocalTime.parse(æ—¶é—´å­—ç¬¦ä¸²)` æ ¹æ®å­—ç¬¦ä¸²åˆ›å»ºæ—¶é—´å¯¹è±¡

```java
LocalDateTime dateTime = LocalDateTime.parse("2024-04-19T00:11:58.906799300");

LocalDate date = LocalDate.parse("2024-04-19");

LocalTime time = LocalTime.parse("20:15:30");
```

### ä»æ—¶é—´æˆ³ä¸­è·å–
```java
// å°†æ—¶é—´æˆ³è½¬æ¢ä¸ºInstantå¯¹è±¡
Instant instant = Instant.ofEpochMilli(1725875842704L);
// è½¬æ¢ä¸ºä¸­å›½ä¸Šæµ·æ—¶åŒºçš„LocalDateTime
LocalDateTime localDateTime = LocalDateTime.ofInstant(  
        instant,  
		ZoneId.of("Asia/Shanghai")) 
).format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss") ;
```



### è‡ªå®šä¹‰æ—¥æœŸæ—¶é—´å¯¹è±¡
- äºŒæ¬¡ä¿®æ”¹ã€åœ¨å·²æœ‰çš„ `LocalDateTime` å¯¹è±¡ä¸Šä¿®æ”¹ã€‘
	- `LocalDateTime withYear(int i)` ä¿®æ”¹å¹´
	- `LocalDateTime withMonth(int i)` ä¿®æ”¹æœˆ
	- `LocalDateTime withDayOfMonth(int i)` ä¿®æ”¹æ—¥
	- `LocalDateTime withHour(int hour)` ä¿®æ”¹æ—¶
	- `LocalDateTime withMinute(int minute)` ä¿®æ”¹åˆ†
	- `LocalDateTime withSecond(int second)` ä¿®æ”¹ç§’
	- `LocalDateTime withNano(int nanoOfSecond)` ä¿®æ”¹çº³ç§’
- å®Œæ•´åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡
	- `LocalDateTime LocalDateTime.of(å¹´, æœˆ, æ—¥, æ—¶, åˆ†, ç§’)` è®¾ç½®æ—¥æœŸæ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæ—¥æœŸæ—¶é—´å¯¹è±¡ã€å¯ä»¥ä¸è®¾ç½®ç§’ã€‘
	- `LocalDate LocalDate.of(å¹´, æœˆ, æ—¥)` è®¾ç½®æ—¥æœŸï¼Œè¿”å›ä¸€ä¸ªæ—¥æœŸå¯¹è±¡
	- `LocalTime LocalTime.of(æ—¶, åˆ†, ç§’)` è®¾ç½®æ—¶é—´ï¼Œè¿”å›ä¸€ä¸ªæ—¶é—´å¯¹è±¡ã€å¯ä»¥ä¸è®¾ç½®ç§’ã€‘

### æ ¼å¼åŒ–
- `format(æ—¥æœŸæ—¶é—´çš„æ ¼å¼)` 

```java
String format = localDateTime.format(  
        DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")  
);
```



## ğŸ’› è·å–å¯¹è±¡ä¸­çš„å€¼
- `int getYear()` è·å–å¹´
- `Month getMonth()` è·å–æœˆã€è‹±æ–‡ã€‘
- `int getMonthValue()` è·å–æœˆã€æ•°å­—ã€‘
- `int getDayOfMouth()` è·å–æ—¥
- `int getHour()` è·å–æ—¶
- `int getMinute()` è·å–åˆ†
- `int getSecond()` è·å–ç§’

```java
// è·å–
public class Java8Tester {
   public static void main(String args[]){
      // è·å–å½“å‰çš„æ—¥æœŸæ—¶é—´å¯¹è±¡
      LocalDateTime currentTime = LocalDateTime.now();
      System.out.println("å½“å‰æ—¶é—´: " + currentTime);

      // è·å–æ—¥æœŸå¯¹è±¡
      LocalDate date1 = currentTime.toLocalDate();
      System.out.println("date1: " + date1);

      // è·å–æœˆ
      Month month = currentTime.getMonth();
      int day = currentTime.getDayOfMonth();
      int seconds = currentTime.getSecond();
      System.out.println("æœˆ: " + month +", æ—¥: " + day +", ç§’: " + seconds);
   }
}

---
å½“å‰æ—¶é—´: 2016-04-15T16:55:48.668
date1: 2016-04-15
æœˆ: APRIL, æ—¥: 15, ç§’: 48
```

---

```java
// äºŒæ¬¡ä¿®æ”¹
public class Java8Tester {
   public static void main(String args[]){
		LocalDateTime currentDateTime = LocalDateTime.now();  
		System.out.println("å½“å‰æ—¶é—´: " + currentDateTime);  
		  
		LocalDateTime Date = currentDateTime.withYear(2012).withMonth(3).withDayOfMonth(10);  
		System.out.println("ä¿®æ”¹å¹´æœˆæ—¥: " + Date);  
		  
		LocalDateTime time = currentDateTime.withHour(11).withMinute(45).withSecond(30).withNano(0);  
		System.out.println("ä¿®æ”¹æ—¶åˆ†ç§’æ¯«ç§’: " + time);
   }
}

---
å½“å‰æ—¶é—´: 2024-04-19T00:30:53.001360700
ä¿®æ”¹å¹´æœˆæ—¥: 2012-03-10T00:30:53.001360700
ä¿®æ”¹æ—¶åˆ†ç§’æ¯«ç§’: 2024-04-19T11:45:30
```

```java
// å®Œæ•´è®¾ç½®
public class Java8Tester {
	public static void main(String args[]){
		LocalDateTime currentDateTime = LocalDateTime.of(2021, Month.JANUARY, 1, 10, 20, 30);  
		System.out.println("å½“å‰æ—¶é—´: " + currentDateTime);  
		  
		LocalDate date = LocalDate.of(2021, 1, 1);  
		System.out.println("æ—¥æœŸ: " + date);  
		  
		LocalTime time = LocalTime.of(10, 20, 30);  
		System.out.println("æ—¶é—´: " + time);
	}
}

---
å½“å‰æ—¶é—´: 2021-01-01T10:20:30
æ—¥æœŸ: 2021-01-01
æ—¶é—´: 10:20:30
```


# â¤ ZonedDateTime
## è·å–æ—¶åŒºæ—¥æœŸæ—¶é—´å¯¹è±¡
### è·å–å½“å‰æ—¶é—´çš„æ—¶åŒºæ—¥æœŸæ—¶é—´å¯¹è±¡
- `ZonedDateTime ZonedDateTime.now()` 

```java
// è·å–å½“å‰æ—¶é—´çš„æ—¶åŒºæ—¥æœŸæ—¶é—´å¯¹è±¡
ZonedDateTime zonedDateTime = ZonedDateTime.now();  
System.out.println("å½“å‰æ—¶é—´: " + zonedDateTime);

---
å½“å‰æ—¶é—´: 2024-04-19T13:13:15.270655200+08:00[Asia/Shanghai]
```

### ä»å¯¹è±¡ä¸­è·å–å¯¹è±¡
- `ZoneId getZone()` è¿”å›ä¸€ä¸ªæ—¶åŒºå¯¹è±¡
- `ZoneOffset getOffset()` è¿”å›ä¸€ä¸ªæ—¶é—´å·®å¯¹è±¡ã€è¡¨ç¤ºå½“å‰æ—¶åŒºä¸ <u>UTC</u>ï¼ˆä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼‰ çš„åç§»é‡ã€‘
- å…¶ä»–æ—¥æœŸï¼Œæ—¶é—´å¯¹è±¡ä¸ `LocalDateTime` ç±»ä¼¼ â€¦â€¦

```java
// ä»å¯¹è±¡ä¸­è·å–å¯¹è±¡
ZonedDateTime zonedDateTime = ZonedDateTime.now();
System.out.println(zonedDateTime.getZone());  
System.out.println(zonedDateTime.getOffset());

---
Asia/Shanghai
+08:00
```

### ä»å­—ç¬¦ä¸²ä¸­è·å–å¯¹è±¡
- `ZonedDateTime ZonedDateTime.parse(å­—ç¬¦ä¸²)` 

```java
// ä»å­—ç¬¦ä¸²ä¸­è·å–å¯¹è±¡
ZonedDateTime zonedDateTime = ZonedDateTime.parse("2021-01-01T10:15:30+05:30[Asia/Kolkata]");  
System.out.println("æ—¶åŒºæ—¥æœŸæ—¶é—´: " + zonedDateTime);

---
æ—¶åŒºæ—¥æœŸæ—¶é—´: 2021-01-01T10:15:30+05:30[Asia/Kolkata]
```

### è‡ªå®šä¹‰å¯¹è±¡
- `ZonedDateTime ZonedDateTime.of(å‚æ•° â€¦â€¦)` è‡ªå®šä¹‰ ZonedDateTime
- `ZoneId ZoneId.of(å‚æ•° â€¦â€¦)` è‡ªå®šä¹‰ ZoneId
- `ZoneOffset ZoneOffset.of(å‚æ•° â€¦â€¦)` è‡ªå®šä¹‰ ZoneOffset

```java
ZonedDateTime zonedDateTime = ZonedDateTime.of(2021, 1, 1, 10, 20, 30, 0, ZoneId.of("Asia/Shanghai"));
System.out.println("å½“å‰æ—¶é—´: " + zonedDateTime);

System.out.println("----------------------");

ZoneId zoneId = ZoneId.of("Asia/Shanghai");
System.out.println("æ—¶åŒº: " + zoneId);

System.out.println("----------------------");

ZoneOffset zoneOffset = ZoneOffset.of("+08:00");
System.out.println("æ—¶å·®: " + zoneOffset);

---
å½“å‰æ—¶é—´: 2021-01-01T10:20:30+08:00[Asia/Shanghai]
----------------------
æ—¶åŒº: Asia/Shanghai
----------------------
æ—¶å·®: +08:00
```

## è·å–å€¼
ä¸ `LocalDateTime` å¤§åŒå°å¼‚












