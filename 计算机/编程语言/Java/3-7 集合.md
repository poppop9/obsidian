
> [!hint] ä¸ºä»€ä¹ˆè¦å¼•å…¥é›†åˆ ?
> å› ä¸ºæ•°ç»„çš„é•¿åº¦æ— æ³•æ”¹å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨åˆ°äº†é›†åˆ

# â¤ Collection
```
public interface Collection<E> extends Iterable<E>
```

- `add("hello");`    æ·»åŠ å…ƒç´ 
- `remove("hello");`    åˆ é™¤å…ƒç´ 
- `clear();`    æ¸…ç©ºé›†åˆä¸­çš„å…ƒç´ 
- åˆ¤æ–­
	- `contains("hello");`    åˆ¤æ–­é›†åˆä¸­æ˜¯å¦æœ‰æŒ‡å®šå…ƒç´ 
	- `containAll(é›†åˆB)` åˆ¤æ–­é›†åˆBçš„å…ƒç´ ï¼Œé›†åˆAé‡Œæ˜¯å¦éƒ½æœ‰
	- `isEmpty();`    åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º
- `size();`     åˆ¤æ–­é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°
- äº¤é›†ï¼Œå·®é›†
	- `Boolean retainAll(é›†åˆ2)` è¿”å›é›†åˆå’Œé›†åˆ2çš„äº¤é›†ï¼Œå¦‚æœé›†åˆå› è°ƒç”¨è€Œæ›´æ”¹ï¼Œåˆ™è¿”å› true
	- `removeAll(é›†åˆ2)` é›†åˆ2ä¸­çš„å…ƒç´ ï¼Œé›†åˆä¸­éƒ½æ²¡æœ‰ï¼Œå¦‚æœé›†åˆå› è°ƒç”¨è€Œæ›´æ”¹ï¼Œåˆ™è¿”å› true

>[!hint] åˆ›å»º Collection å¯¹è±¡å¹¶ä½¿ç”¨
> ```java
> public class collection {  
>     public static void main(String[] args) {  
>         Collection\<String> c1 = new ArrayList\<>();  
>   
>         String s1 = "ç»¿å¦";  
>         String s2 = "kite";  
>   
>         c1.add(s1);  
>         c1.add(s2);  
>   
>         System.out.println(c1);  
>     }  
> }
> 
> ---
> [ç»¿å¦, kite]
> ```

>[!hint] Collection é›†åˆçš„éå†
>>[!quote] Iterator è¿­ä»£å™¨
>> - `next()`  è¿”å›è¿­ä»£ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
>> - `hasNext()`   åˆ¤æ–­ `next()` ä¹‹åæ˜¯å¦è¿˜æœ‰å…ƒç´ 
> ```java
> public static void main(String[] args) {  
> 	Collection\<String> c1 = new ArrayList<>();  
>   
> 	String s1 = "ç»¿å¦";  
> 	String s2 = "kite";  
>   
> 	c1.add(s1);  
> 	c1.add(s2);  
>   
> 	Iterator\<String> i1 = c1.iterator();  
>   
> 	while (i1.hasNext()) {  
> 		String s = i1.next();  
> 		System.out.println(s);  
> 	}  
> }
> 
> --
> ç»¿å¦
> kite
> ```
> 
>>[!quote] å¢å¼º forã€åŸç†ä¹Ÿæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ã€‘
> ```java
> int arr[] = {1, 2, 3};  
> for (int i : arr) {  
>     System.out.println(i);  
> }
> 
> --
> 1
> 2
> 3
> ```

## ğŸ’› List
>[!quote] List
>List é›†åˆçš„ç‰¹ç‚¹å°±æ˜¯<u>ç´¢å¼•</u>
> ```
> public interface List\<E> extends Collection\<E>
> ```

- **é™æ€æ–¹æ³•**
	- ã€å¢ã€‘
		- `List.of(â€¦â€¦)` å‘é›†åˆä¸­ä¸€æ¬¡æ€§æ·»åŠ å…ƒç´ ï¼Œç”Ÿæˆä¸€ä¸ªä¸å¯å˜é›†åˆ

```java
List\<String> list = List.of("hello","world","!!!");
```

---

- **éé™æ€æ–¹æ³•**
	- ã€å¢ã€‘
		- `add(ç´¢å¼•,æ•°å€¼);`   åœ¨é›†åˆä¸­æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
	- ã€æ”¹ã€‘
		- `set(ç´¢å¼•,æ•°å€¼);`   ä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ 
	- ã€æŸ¥ã€‘
		- `get(ç´¢å¼•);`   è¿”å›æŒ‡å®šå…ƒç´ 

```java
List<String> list = new ArrayList<>();  
  
list.add(0, "æç™½");  
  
list.set(0, "æœç”«");  
String s1 = list.get(0);  
  
System.out.println(s1);

---
æœç”«
```

---

>[!quote] ListIterator è¿­ä»£å™¨
> ListIterator å¯ä»¥å®ç°åŒå‘éå†
> ```
> public interface ListIterator\<E> extends Iterator\<E>
> ```
> - ä»åå¾€å‰éå†
> 	- `hasPrevious()`   åˆ¤æ–­ `previous()` æ˜¯å¦éå†å®Œæˆ
> 	- `previous()`   ä»åå‘å‰ä¸€ä¸ªä¸€ä¸ªéå†
>
> ```java
> public static void main(String[] args) {  
> 	List\<String> list = new ArrayList<>();  
> 
> 	list.add("æç™½");  
> 	list.add("æœç”«");  
> 	list.add("ç‹ç»´");  
> 
> 	ListIterator lstitrt = list.listIterator();  
> 
> 	// ä»å‰å¾€åéå†
> 	while (lstitrt.hasNext()) {  
> 		System.out.print(lstitrt.next());  
> 	}  
> 
> 	System.out.println("");  
> 	System.out.println(" ");  
> 
> 	// ä»åå¾€å‰éå†
> 	while (lstitrt.hasPrevious()) {  
> 		System.out.print(lstitrt.previous());  
> 	}  
> }  
> 
> â€”â€”
> æç™½æœç”«ç‹ç»´
> ç‹ç»´æœç”«æç™½
> ```
> 
> ```java
> List\<String> list = new ArrayList<>();  
> 
> list.add("æç™½");  
> list.add("æœç”«");  
> list.add("ç‹ç»´");  
> 
> ListIterator lstitrt = list.listIterator();  
> 
> while (lstitrt.hasPrevious()) {  
> 	System.out.print(lstitrt.previous());  
> }  
> 
> â€”â€”
> NULL
> ```
> 
>>[!warning] å¦‚æœä¸ä½¿ç”¨ next() æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨ previous() æ–¹æ³•ï¼Œä¼šå¯¼è‡´ä»€ä¹ˆä¹Ÿä¸æ‰“å°
>>å› ä¸ºå®ç°éå†çš„èƒŒååŸç†æ˜¯æŒ‡é’ˆï¼Œæ²¡æœ‰å‘åéå†çš„åŸºç¡€ï¼Œå‘å‰éå†æŒ‡é’ˆæŒ‡å‘é›†åˆçš„æœ€å¼€å§‹ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ç»“æœ

>[!warning] å¦‚æœä¸€å®šè¦åœ¨è¿­ä»£æ—¶æ”¹å˜é›†åˆå…ƒç´ ï¼Œè¯·ä½¿ç”¨ ListIterator çš„ `add` æ–¹æ³•
>ä»¥ä¸‹ä»£ç ä¼šæŠ¥å‡ºå¼‚å¸¸ï¼Œè¿™æ˜¯ç”±äºåœ¨è¿­ä»£æ—¶ä½¿ç”¨ List é›†åˆçš„ `add` æ–¹æ³•æ”¹å˜é›†åˆï¼š
> ```java
> public static void main(String[] args) {  
>     List\<String> list = new ArrayList<>();  
>   
>     list.add("æç™½");  
>     list.add("æœç”«");  
>   
>     ListIterator\<String> lstitrt = list.listIterator();  
>   
>     while (lstitrt.hasNext()) {  
>         String s = lstitrt.next();  
>         if (s.equals("æœç”«")) {  
>             list.add("ç‹å®‰çŸ³");  
>         }  
>     }  
> }
> 
> â€”â€”
> Exception in thread "main" java.util.ConcurrentModificationException
> ```

### ArrayList
>[!quote] `ArrayList`
>ArrayList æ˜¯åŸºäºåŠ¨æ€æ•°ç»„å®ç°çš„ List
> ```
> public class ArrayList\<E> 
> extends AbstractList\<E>
> implements List\<E>, RandomAccess, Cloneable, Serializable
> ```

### LinkedList
>[!quote] `LinkedList`
>LinkedList åŸºäºåŒå‘é“¾è¡¨å®ç°çš„ List
> ```
> public class LinkedList\<E> 
> extends AbstractSequentialList\<E>
> implements List\<E>, Deque\<E>, Cloneable, Serializable
> ```

- **å¢**
	- `addFirst(e)` åœ¨è¯¥åˆ—è¡¨çš„å¼€å¤´æ’å…¥ e å…ƒç´ 
	- `addLast(e)` åœ¨è¯¥åˆ—è¡¨çš„æœ«å°¾æ’å…¥ e å…ƒç´ 
- **åˆ **
	- `removeFirst()` åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ 
	- `removeLast()` åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ 
- **æŸ¥**
	- `getFirst()` è¿”å›æ­¤åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
	- `getLast()` è¿”å›æ­¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ 

### Vector
>[!quote] Vector
>Vector æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨é›†åˆï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦çº¿ç¨‹å®‰å…¨æ—¶ä¹Ÿä¸å¸¸ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ `synchronizedList()` æ–¹æ³•
> ```
> public class Vector\<E>
> extends AbstractList\<E>
> implements List\<E>, RandomAccess, Cloneable, Serializable
> ```

- ä½¿ç”¨ `synchronizedList()` æ–¹æ³•
```
List<String> list=Collections.synchronizedList(new ArrayList<>());
```

## ğŸ’› Set
>[!quote] Set
>- <u>ä¸èƒ½æœ‰é‡å¤å…ƒç´ </u>
>- å¯ä»¥æœ‰ `NULL` å€¼
>- æ— åº
>- æ²¡æœ‰ç´¢å¼•
>
> ```
> public interface Set\<E> 
> extends Collection\<E>
> ```

- **é™æ€æ–¹æ³•**
	- `Set.of(â€¦â€¦)` ç”Ÿæˆä¸€ä¸ªä¸å¯å˜ Set é›†åˆ
- **éé™æ€æ–¹æ³•**
	- ã€å¢ã€‘
		- `add(E e)` æ·»åŠ å…ƒç´ 
	- ã€åˆ ã€‘
		- `remove(E e)` åˆ é™¤å…ƒç´ 
		- `clear()` æ¸…ç©ºé›†åˆ
	- ã€æŸ¥ã€‘
		- `size()` è¿”å›é›†åˆçš„å…ƒç´ æ•°
		- `contains(E e)` åˆ¤æ–­é›†åˆæ˜¯å¦æœ‰æŒ‡å®šå…ƒç´  

### HashSet
>[!quote] `HashSet`
>`HashSet` çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨
>
> ```java
> public class HashSet\<E> 
> extends AbstractSet\<E> 
> implements Set\<E>, Cloneable, Serializable
> ```

>[!quote] å“ˆå¸Œå€¼
>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰å±äºè‡ªå·±çš„ `hashcode`ï¼Œè¿™ä¸ª `hashcode` æ˜¯åŒºåˆ†ä¸åŒå¯¹è±¡çš„é‡è¦æ ‡è¯†ï¼Œæ— è®ºå¯¹è±¡è‡ªèº«çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œå®ƒä»¬çš„ `hashcode` éƒ½æ˜¯ä¸€ä¸ª**æ•´å‹å˜é‡**ã€~~`hashcode` ä¸æ˜¯å†…å­˜åœ°å€~~ã€‘

>[!quote] `hashcode()`
>`hashcode()` æ˜¯å®šä¹‰åœ¨ Object ç±»é‡Œçš„æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªæ•´å‹å€¼
>
> ```java
> psvm {  
> 	students s1 = new students("æç™½");    
> 	students s2 = new students("æç™½");    
> 	students s3 = new students("è¾›å¼ƒç–¾");    
>   
> 	System.out.println(s1.hashCode());  //2093631819  
> 	System.out.println(s2.hashCode());  //2074407503  
> 	System.out.println(s3.hashCode());  //999966131  
>   
> 	System.out.println("java".hashCode());  //3254818  
> 	System.out.println("hello".hashCode());  //99162322  
> 	System.out.println("java".hashCode());  //3254818  
> }
> ```

>[!quote] Hash å®¹å™¨
>Hash å®¹å™¨å¯ä»¥æ ¹æ® `hashcode` å®šä½åˆ°ç›¸åº”çš„å¯¹è±¡ã€~~å³ `hashcode` ä¸åŒï¼Œä¸¤ä¸ªå¯¹è±¡ä¸åŒ~~ã€‘ï¼ŒHash å®¹å™¨æœ‰ï¼šHashSetï¼ŒHashMapï¼ŒHashTable, ConcurrentHashMap

>[!quote] å“ˆå¸Œå†²çª
>å“ˆå¸Œå†²çª æ˜¯åœ¨ä½¿ç”¨ `hashcode()` æ—¶ï¼Œä¸åŒçš„è¾“å…¥å€¼ç»è¿‡ `hashcode()` å¤„ç†åäº§ç”Ÿäº†ç›¸åŒçš„ `hashcode`ã€~~å“ˆå¸Œå€¼~~ã€‘ï¼Œ<u>å“ˆå¸Œå†²çªæ˜¯ä¸å¯é¿å…çš„ï¼Œå› ä¸ºå“ˆå¸Œå‡½æ•°å°†æ— é™çš„è¾“å…¥æ˜ å°„åˆ°æœ‰é™çš„è¾“å‡º</u>
>
> ```java
> // "é‡åœ°" çš„ Unicode ç¼–ç æ˜¯ 37325 å’Œ 22320ï¼Œè®¡ç®—å“ˆå¸Œç å¾—åˆ° 37325 * 31 + 22320 = 1179395ã€‚
> // "é€šè¯" çš„ Unicode ç¼–ç æ˜¯ 36890 å’Œ 35805ï¼Œè®¡ç®—å“ˆå¸Œç å¾—åˆ° 36890 * 31 + 35805 = 1179395ã€‚
> System.out.println("é‡åœ°".hashCode());  //1179395  
> System.out.println("é€šè¯".hashCode());  //1179395
> ```

---

>[!hint]+ HashSet å¯¹é›†åˆçš„è¿­ä»£é¡ºåºæ²¡æœ‰ä¿è¯
> ```java
> public static void main(String[] args) {  
> 	HashSet\<String> hxs = new HashSet<>();  
>   
> 	hxs.add("æç™½");  
> 	hxs.add("æœç”«");  
> 	hxs.add("è¾›å¼ƒç–¾");  
>   
> 	for (String s : hxs) {  
> 		System.out.println(s);  
> 	}  
> }
> 
> --
> è¾›å¼ƒç–¾
> æç™½
> æœç”«
> ```

>[!hint]+ ä¸ºä»€ä¹ˆ HashSet å¯ä»¥ä¿è¯å…ƒç´ çš„å”¯ä¸€æ€§ ï¼Ÿ
>![700](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/202403201515043.png)

>[!hint]+ æ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œéœ€è¦é‡å†™ `hashcode()` å’Œ `equals()` æ–¹æ³•
>- æ²¡æœ‰é‡å†™æ—¶
>
> ```java
> public static void main(String[] args) {  
> 	HashSet\<students> hs = new HashSet\<students>();  
>   
> 	students s1 = new students(12, "å´å½¦ç¥–");  
> 	students s2 = new students(12, "é™ˆå† å¸Œ");  
> 	students s3 = new students(12, "å´å½¦ç¥–");  
> 	students s4 = new students(23, "åˆ˜å¾·å");  
>   
> 	hs.add(s1);  
> 	hs.add(s2);  
> 	hs.add(s3);  
> 	hs.add(s4);  
>   
> 	for (students s : hs) {  
> 		System.out.println(s.getAge() + s.getName());  
> 	}  
> }
> 
> 
> 23åˆ˜å¾·å
> 12å´å½¦ç¥–
> 12å´å½¦ç¥–  //æ‰“å°äº†ä¸¤ä¸ªå´å½¦ç¥–ï¼Œè¯´æ˜å“ˆå¸Œè¡¨è®¤ä¸ºs1å’Œs3æ˜¯ä¸åŒå¯¹è±¡
> 12é™ˆå† å¸Œ
> ```
> 
>- é‡å†™å
>
> ```java
> @Data
> @NoArgsConstructor
> @AllArgsConstructor
> public class students {  
> 	private int age;  
> 	private String name;  
>   
> 	@Override  
> 	public boolean equals(Object o) {  
> 		if (this == o) return true;  
> 		if (o == null || getClass() != o.getClass()) return false;  
> 		students students = (students) o;  
>   
> 		if (age != students.age) return false;  
> 		return name != null ? name.equals(students.name) : students.name == null;  
> 	}  
>   
> 	@Override  
> 	public int hashCode() {  
> 		int result = age;  
> 		result = 31 * result + (name != null ? name.hashCode() : 0);  
> 		return result;  
> 	}  
> }
> 
> // æµ‹è¯•ç±»
> public class collection {  
> 	public static void main(String[] args) {  
> 		HashSet\<students> hs = new HashSet\<students>();  
>   
> 		students s1 = new students(12, "å´å½¦ç¥–");  
> 		students s2 = new students(12, "é™ˆå† å¸Œ");  
> 		students s3 = new students(12, "å´å½¦ç¥–");  
> 		students s4 = new students(23, "åˆ˜å¾·å");  
>   
> 		hs.add(s1);  
> 		hs.add(s2);  
> 		hs.add(s3);  
> 		hs.add(s4);  
>   
> 		for (students s : hs) {  
> 			System.out.println(s.getAge() + s.getName());  
> 		}  
> 	}  
> }
> 
> 
> 12å´å½¦ç¥–
> 12é™ˆå† å¸Œ
> 23åˆ˜å¾·å
> ```

#### LinkedHashSet
>[!quote] LinkedHashSet
>LinkedHashSet åº•å±‚æ˜¯å“ˆå¸Œè¡¨å’Œé“¾è¡¨ï¼Œå¯ä»¥é¢„æµ‹è¿­ä»£é¡ºåº
> ```
> public class LinkedHashSet\<E> extends HashSet\<E>
> implements Set\<E>, Cloneable, Serializable
> ```

### TreeSet
>[!quote] TreeSet
>TreeSet æ˜¯ä¸€ç§æœ‰åºé›†åˆï¼Œè¦æ±‚é›†åˆä¸­çš„å…ƒç´ å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„ï¼Œ<u>æ‰€ä»¥ TreeSet ä¸­çš„å…ƒç´ å¿…é¡»å®ç° Comparable æ¥å£æˆ–è€…åœ¨åˆ›å»º TreeSet æ—¶æä¾›ä¸€ä¸ª Comparator æ¯”è¾ƒå™¨å¯¹è±¡</u>
> ```
> public class TreeSet\<E> extends AbstractSet\<E>
> implements NavigableSet\<E>,Cloneable,Serializable
> ```

- `TreeSet()`   æ— å‚æ„é€ ï¼Œ**å…ƒç´ æŒ‰ç…§è‡ªç„¶æ’åº**
- `TreeSet(Comparator c)`   å¸¦å‚æ„é€ ï¼Œ**æ ¹æ®æŒ‡å®šçš„æ¯”è¾ƒå™¨è¿›è¡Œæ’åº**

---

- å®ç° Comparable æ¥å£çš„æ— å‚æ„é€ 
	- å…ƒç´ ä¸º Integer
		```java
		public static void main(String[] args) {  
		    TreeSet<Integer> ts = new TreeSet<Integer>();  //è¿™é‡Œçš„å…ƒç´ ç”¨äº†Integerï¼Œè€Œä¸æ˜¯int
		                                            //æ˜¯å› ä¸ºIntegerå®ç°äº†Comparableæ¥å£ï¼Œintæ²¡æœ‰
		    ts.add(190);  
		    ts.add(33);  
		    ts.add(77);  
		  
		    for (Integer i : ts) {  
		        System.out.println(i);  
		    }  
		}
		
		
		33
		77
		190
		```
	- å…ƒç´ ä¸ºstudentsï¼Œreturn 0;
		```java
		public class students implements Comparable<students>{  
		    private int age;  
		    private String name;  
		  
		    public students(int age, String name) {  
		        this.age = age;  
		        this.name = name;  
		    }  
		  
		    public int getAge() {return age;}  
		    public void setAge(int age) {this.age = age;}  
		    public String getName() {return name;}  
		    public void setName(String name) {this.name = name;}  
		  
		    @Override  
		    public int compareTo(students o) {  
		        return 0;  //é¦–å…ˆæ·»åŠ s1ï¼Œæ·»åŠ s2çš„æ—¶å€™è¿”å›0ï¼ˆè¡¨ç¤ºs2çš„å…ƒç´ å’Œs1ç›¸åŒï¼‰ï¼Œä¸å­˜å‚¨
		    }  
		}
		```
		```java
		public class collection {  
		    public static void main(String[] args) {  
		        TreeSet<students> ts = new TreeSet<students>();  
		  
		        students s1 = new students(12, "å´å½¦ç¥–");  
		        students s2 = new students(23, "é™ˆå† å¸Œ");  
		        students s3 = new students(42, "åˆ˜å¾·å");  
		        students s4 = new students(12, "å´å½¦ç¥–");  
		  
		        ts.add(s1);  
		        ts.add(s2);  
		        ts.add(s3);  
		        ts.add(s4);  
		  
		        for (students s : ts) {  
		            System.out.println(s.getAge() + s.getName());  
		        }  
		    }  
		}


		12å´å½¦ç¥–
		```
	- å…ƒç´ ä¸ºstudentsï¼Œreturn 1;
		```java
		public class students implements Comparable<students>{  
		    private int age;  
		    private String name;  
		  
		    public students(int age, String name) {  
		        this.age = age;  
		        this.name = name;  
		    }  
		  
		    public int getAge() {return age;}  
		    public void setAge(int age) {this.age = age;}  
		    public String getName() {return name;}  
		    public void setName(String name) {this.name = name;}  
		  
		    @Override  
		    public int compareTo(students o) {  
		        return 1;  //é¦–å…ˆå­˜s1ï¼Œå­˜s2æ—¶è¿”å›1ï¼ˆè¡¨ç¤ºs2å¤§äºs1ï¼‰ï¼Œs2å­˜åœ¨s1ä¹‹å
		    }  
		}


		12å´å½¦ç¥–
		23é™ˆå† å¸Œ
		42åˆ˜å¾·å
		12å´å½¦ç¥–
		```
	- å…ƒç´ æ˜¯studentsï¼Œçµæ´»return;
		```java
		public class students implements Comparable<students>{  
			private int age;  
			private String name;  
		  
			public students(int age, String name) {  
				this.age = age;  
				this.name = name;  
			}  
		  
			public int getAge() {return age;}  
			public void setAge(int age) {this.age = age;}  
			public String getName() {return name;}  
			public void setName(String name) {this.name = name;}  
		  
			@Override  
			public int compareTo(students o) {  
				int i = this.age - o.age;  
				return i;
			}  
		}
		
		
		12å´å½¦ç¥–
		23é™ˆå† å¸Œ
		42åˆ˜å¾·å
		```

- æä¾› Comparator æ¯”è¾ƒå™¨å¯¹è±¡çš„å¸¦å‚æ„é€ 
	```java
	public class collection {  
	    public static void main(String[] args) {  
	        TreeSet<students> ts = new TreeSet<students>(new Comparator<students>() {  
	            @Override  
	            public int compare(students o1, students o2) {  
	                int sum = o1.getAge() - o2.getAge();  
	                return sum;  
	            }  
	        });                        //æ­¤å¤„ä¸ºåŒ¿åå†…éƒ¨ç±»ï¼Œæ˜¯Comparatoræ¥å£çš„å®ç°ç±»å¯¹è±¡
	  
	        students s1 = new students(12, "å´å½¦ç¥–");  
	        students s2 = new students(23, "é™ˆå† å¸Œ");  
	        students s3 = new students(42, "åˆ˜å¾·å");  
	        students s4 = new students(12, "å´å½¦ç¥–");  
	  
	        ts.add(s1);  
	        ts.add(s2);  
	        ts.add(s3);  
	        ts.add(s4);  
	  
	        for (students s : ts) {  
	            System.out.println(s.getAge() + s.getName());  
	        }  
	    }  
	}
	
	
	12å´å½¦ç¥–
	23é™ˆå† å¸Œ
	42åˆ˜å¾·å
	```

# â¤ Map
>[!quote] Map
>Map é›†åˆ **ä¸èƒ½æœ‰é‡å¤çš„ keyï¼Œæ¯ä¸ª key æœ€å¤šæ˜ å°„åˆ°ä¸€ä¸ªå€¼**
> ```java
> public interface Map<K,V>  // K è¡¨ç¤º keyï¼ŒV è¡¨ç¤º value
> ```

- **é™æ€æ–¹æ³•**
	- ã€å¢ã€‘
		- `Map.of(â€¦â€¦)` ç”Ÿæˆä¸€ä¸ªä¸å¯å˜çš„ map é›†åˆã€æœ€å¤šåªèƒ½æœ‰ 10 ä¸ªé”®å€¼å¯¹ã€‘
		- `Map.ofEntries` ä¼ é€’æ— é™ä¸ª Entry å¯¹è±¡

```java
Map<String, Integer> map = Map.of("one", 1, "two", 2, "three", 3);
```

---

- **éé™æ€æ–¹æ³•**
	- ã€å¢ã€‘
		- `put(K key,V value)` æ·»åŠ å…ƒç´ 
		- `merge(key, value, å†²çªå¤„ç†æ–¹æ³•)` æ·»åŠ é”®å€¼å¯¹ï¼Œå¦‚æœé›†åˆä¸­å­˜åœ¨ç›¸åŒ keyï¼Œåˆ™ä¼šè¦†ç›–æ—§å€¼ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰å†²çªå¤„ç†æ–¹æ³•
	- ã€åˆ ã€‘
		- `remove(Object key)` æ ¹æ®é”®åˆ é™¤é”®å€¼å¯¹å…ƒç´ 
		- `clear()` ç§»é™¤æ‰€æœ‰é”®å€¼å¯¹å…ƒç´ 
	- ã€æŸ¥ã€‘
		- `size()` è¿”å›é›†åˆçš„é•¿åº¦
		- `V get(Object key)` æ ¹æ®é”®è·å–å€¼
		- `keySet()`   è¿”å›ä¸€ä¸ªæ‰€æœ‰é”®çš„ Set é›†åˆ
		- `values()`   è¿”å›ä¸€ä¸ªæ‰€æœ‰å€¼çš„ Collection é›†åˆ
		- `entrySet()`   è¿”å›ä¸€ä¸ª Set é›†åˆ Set\<Map.Entry\<String, Integer>>ï¼Œå…¶ä¸­æ¯ä¸ª `Map.Entry` è¡¨ç¤ºä¸€ä¸ªé”®å€¼å¯¹
		- **åˆ¤æ–­**
			- `boolean containsKey(Object key)` åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„é”®
			- `boolean containsValue(Object value)` åˆ¤æ–­é›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼
			- `boolean isEmpty()`   åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º

>[!quote] `Map.Entry<K,V>` 
>- `getKey()` è¿”å› K
>- `getValue()` è¿”å› V

---

- è·å–æ–¹æ³•çš„å…·ä½“å®ç°
	```java
	public static void main(String[] args) {  
	    Map<Integer, String> m = new HashMap<Integer, String>();  
	    m.put(12, "å´å½¦ç¥–");  
	    m.put(23, "å½­äºæ™");  
	    m.put(12, "éƒ­å¯ŒåŸ");  
	  
	    System.out.println(m.get(12));  
	    System.out.println(m.get(34));  
	    System.out.println(m.keySet());  
	    System.out.println(m.values());  
	    System.out.println(m.entrySet());  
	}
	
	
	éƒ­å¯ŒåŸ
	null
	[23, 12]
	[å½­äºæ™, éƒ­å¯ŒåŸ]
	[23=å½­äºæ™, 12=éƒ­å¯ŒåŸ]
	```

- éå†çš„å…·ä½“å®ç°
	- éå†æ‰€æœ‰keyï¼Œå†æ ¹æ®keyæ‰¾åˆ°å¯¹åº”çš„value
		```java
		public static void main(String[] args) {  
		    Map<Integer, String> m = new HashMap<Integer, String>();  
		    m.put(12, "å´å½¦ç¥–");  
		    m.put(23, "å½­äºæ™");  
		    m.put(34, "éƒ­å¯ŒåŸ");  
		  
		    Set<Integer> set = m.keySet();  
		    for (int key : set) {  
		        String value = m.get(key);  
		        System.out.println(key + ":" + value);  
		    }  
		}
		
		
		34:éƒ­å¯ŒåŸ
		23:å½­äºæ™
		12:å´å½¦ç¥–
		```

	- è·å–æ‰€æœ‰é”®å€¼å¯¹çš„å¯¹è±¡é›†åˆï¼Œç„¶åéå†é›†åˆé‡Œçš„æ¯ä¸ªå¯¹è±¡
		```java
		public static void main(String[] args) {  
		    Map<Integer, String> m = new HashMap<Integer, String>();  
		    m.put(12, "å´å½¦ç¥–");  
		    m.put(23, "å½­äºæ™");  
		    m.put(34, "éƒ­å¯ŒåŸ");  
		  
		    Set<Map.Entry<Integer, String>> set = m.entrySet();  
		    for (Map.Entry<Integer, String> me : set) {  
		        System.out.println(me);  
		    }  
		}
		
		
		34=éƒ­å¯ŒåŸ
		23=å½­äºæ™
		12=å´å½¦ç¥–
		```

## ğŸ’› HashMap
```
public class HashMap<K,V> extends AbstractMap<K,V>
implements Map<K,V>,Cloneable,Serializable
```

```java
HashMap<Integer, String> m = new HashMap<Integer, String>();  
m.put(12, "å´å½¦ç¥–");  
m.put(23, "å½­äºæ™");  
m.put(34, "éƒ­å¯ŒåŸ");  
  
System.out.println(m);


{34=éƒ­å¯ŒåŸ, 23=å½­äºæ™, 12=å´å½¦ç¥–}
```

## ğŸ’› TreeMap
>[!quote] TreeMap
>TreeMap å¯ä»¥å¯¹ key è¿›è¡Œæ’åº
>  ```java
> public class TreeMap<K,V> extends AbstractMap<K,V>
> implements NavigableMap<K,V>,Cloneable,Serializable
> ```

## ğŸ’› çº¿ç¨‹åŒæ­¥
>[!hint] ç”±äº `HashMap` æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œå½“å¤šä¸ªçº¿ç¨‹å¹¶å‘è®¿é—®å’Œä¿®æ”¹ `HashMap`ï¼Œä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´

---

>[!quote] å†…éƒ¨åŒæ­¥ å’Œ å¤–éƒ¨åŒæ­¥
>- **å†…éƒ¨åŒæ­¥**ï¼šåœ¨ç±»æˆ–å¯¹è±¡çš„å®ç°å†…éƒ¨è¿›è¡Œçš„åŒæ­¥ã€‚é€šå¸¸ï¼Œè¿™æ˜¯é€šè¿‡åœ¨æ–¹æ³•ä¸Šä½¿ç”¨`synchronized`å…³é”®å­—æˆ–è€…åœ¨ä»£ç å—ä¸Šä½¿ç”¨`synchronized`é”æ¥å®ç°çš„
>	- ä½¿ç”¨ç®€å•ï¼Œä¸éœ€è¦ç¼–å†™é¢å¤–çš„åŒæ­¥ä»£ç 
>	- ç”±äºæ–¹æ³•éƒ½è¢«åŠ äº† `synchronized` ï¼Œä¼šå¯¼è‡´æ€§èƒ½æŸå¤±
>- **å¤–éƒ¨åŒæ­¥**ï¼šä½¿ç”¨è€…éœ€è¦è‡ªå·±ç®¡ç†å¯¹å…±äº«èµ„æºçš„è®¿é—®ï¼Œä»¥ä¿è¯çº¿ç¨‹å®‰å…¨
>	- çµæ´»æ€§é«˜ï¼Œå¯ä»¥æ›´åŠ ç»†ç²’åº¦
>	- ä½¿ç”¨å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™

>[!quote] æä¾›çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•
>- `HashTable` å†…éƒ¨åŒæ­¥ï¼Œä¸æ¨è
>- `Collections.synchronizedMap()` å¤–éƒ¨åŒæ­¥ï¼Œä¸æ¨è
>	- æ¯æ¬¡å¯¹ Map çš„æ“ä½œéƒ½éœ€è¦åŒæ­¥ï¼Œè¿™ä¼šå¯¼è‡´æ˜¾è‘—çš„æ€§èƒ½å¼€é”€
>	- æä¾›çš„æ˜¯ç²—ç²’åº¦çš„é”ï¼Œä»»ä½•æ—¶å€™åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—® Map çš„ä»»ä½•éƒ¨åˆ†
>- `ConcurrentHashMap` ç‰¹æ®Šçš„å†…éƒ¨åŒæ­¥ï¼Œ**æ¨è**


### HashTable
>[!quote] `HashTable`
> - `HashTable` ä¸å…è®¸é”®å’Œå€¼ä¸º`null`
>- è¿­ä»£å™¨æ˜¯å¼±ä¸€è‡´çš„


### Collections.synchronizedMap
```java
Map<Object,Object> map=Collections.synchronizedMap(new HashMap<>());
// ç°åœ¨è¿™ä¸ªmapé›†åˆå°±æ˜¯çº¿ç¨‹å®‰å…¨é›†åˆäº†
```

### ConcurrentHashMap
>[!quote] `ConcurrentHashMap`
>`ConcurrentHashMap` ä¸­ç”¨çš„æ˜¯<u>åˆ†æ®µé”</u>ã€~~å°†æ•°æ®åˆ†æˆå¤šä¸ªæ®µï¼Œæ¯ä¸ªæ®µå¯ä»¥ç‹¬ç«‹åœ°è¢«é”å®šï¼Œä¸åŒçš„çº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®ä¸åŒæ®µçš„æ•°æ®ï¼Œä»è€Œæé«˜äº†å¹¶å‘æ€§èƒ½~~ã€‘
>- ç”±äºæ˜¯åˆ†æ®µé”ï¼Œç»†ç²’åº¦æ›´é«˜ï¼Œæé«˜äº†å¹¶è¡Œåº¦
>- ç”±äºæ˜¯å†…éƒ¨åŒæ­¥ï¼Œä½¿ç”¨èµ·æ¥å°±åƒä½¿ç”¨ `HashMap` ä¸€æ ·ï¼Œç®€å•æ–¹ä¾¿
>- æ€§èƒ½é«˜
>- è¿­ä»£å™¨æ˜¯å¼±ä¸€è‡´çš„
> - `ConcurrentHashMap` ä¹Ÿå…è®¸é”®å’Œå€¼ä¸º `null`ï¼Œä¸ `HashMap` ç›¸ä¼¼

>[!quote] å¼±ä¸€è‡´çš„è¿­ä»£å™¨
>è¿­ä»£å™¨åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å¯ä»¥å®¹å¿é›†åˆçš„å¹¶å‘ä¿®æ”¹ã€~~ä¸ä¼šæŠ›å¼‚å¸¸~~ã€‘ï¼Œä½†ä¸ä¼šä¿è¯è¿­ä»£å™¨èƒ½å¤Ÿå®æ—¶åæ˜ è¿™äº›ä¿®æ”¹

æ— é”è®¾è®¡ï¼š
åœ¨æŸäº›æ“ä½œä¸­ï¼ŒConcurrentHashMap é‡‡ç”¨äº†æ— é”ç¼–ç¨‹æŠ€æœ¯ï¼Œæ¯”å¦‚ä½¿ç”¨åŸå­å˜é‡ï¼ˆå¦‚ AtomicIntegerï¼‰æ¥ç®¡ç†è®¡æ•°å™¨ç­‰ã€‚
æ— é”è®¾è®¡å¯ä»¥å‡å°‘çº¿ç¨‹äº‰ç”¨å’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€ï¼Œæé«˜æ€§èƒ½ã€‚

# â¤ Collectionså·¥å…·
```java
public class Collections
extends Object
```

- ã€æ’åºã€‘
	- `sort()`   å°†æŒ‡å®šçš„åˆ—è¡¨å‡åºæ’åˆ—
	- `reverse()`   åè½¬æŒ‡å®šåˆ—è¡¨ä¸­çš„å…ƒç´ é¡ºåº
	- `shuffle()`   æŠŠé›†åˆé‡Œçš„å…ƒç´ é¡ºåºé‡æ–°éšæœºæ’åˆ—
- ã€ç©ºé›†åˆã€‘
	- `emptyMap()` è¿”å›ä¸€ä¸ªä¸å¯å˜çš„ç©º Map

```java
public static void main(String[] args) {  
    List list = new ArrayList();  
    list.add(30);  
    list.add(10);  
    list.add(100);  
    list.add(70);  
  
    System.out.println(list);  
      
    Collections.sort(list);  
    System.out.println(list);  
      
    Collections.reverse(list);  
    System.out.println(list);  
      
    Collections.shuffle(list);  
    System.out.println(list);  
}


[30, 10, 100, 70]
[10, 30, 70, 100]
[100, 70, 30, 10]
[30, 70, 10, 100]
```


































