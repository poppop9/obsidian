# Java 内存区域与内存溢出异常
因为 Java 程序员把控制内存的权力交给了 JVM，一旦出现内存泄漏和溢出方面的问题，如果不了解虚拟机是怎样使用内存的，将会难以排查错误，修正问题

>[!hint] Java 与 C++ 之间有一堵<u>由内存动态分配和垃圾收集技术所围成的</u>高墙，墙外面的人想进去，墙里面的人却想出来
>- 对于 C++的开发者来说，C++ 需要开发者手动地进行内存的分配和释放操作，如果操作不当可能会导致内存泄漏 …… ，而 Java 有自动的垃圾收集机制，开发者不需要过多操心内存管理的细节
>- Java 由于有垃圾收集器，所以也有一些局限性【在某些对性能要求极高，需要更精细控制内存的场景下，Java 的垃圾收集机制可能会带来一些不可预测的暂停，也无法做到极致的内存控制

介绍 Java 虚拟机内存的各个区域，讲解这些区域的作用、服务对象以及其中可能产生的问题

## 运行时的数据区域
![350](https://obsidian-1307744200.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87/202405160906418.png)

>[!quote] 程序计数器
>>当前线程所执行的字节码的行号指示器，每个线程有一个独立的程序计数器，这些程序计数器互不影响，独立存储，所以是<u>线程私有内存</u>
>
>- 字节码解释器工作时，就是通过改变程序计数器的值来选取下一条需要执行的字节码指令
>
>- 分支、循环、跳转、异常处理、线程恢复 ……基础功能都需要依赖程序计数器来完成

>[!quote] 虚拟机栈
>>虚拟机栈 描述的是 Java 方法执行的线程内存模型：每个方法被执行时，JVM 都会同步创建一个栈帧用于存储局部变量表、操作数栈、动态连接、方法出口 ……。虚拟机栈的生命周期与线程相同【~~每一个方法被调用直至执行完毕的过程，就对应着一个栈帧在虚拟机栈中从入栈到出栈的过程~~】
>
>

虚拟机栈也是线程私有的。

栈帧是方法运行期很重要的基础数据结构，在本书的第8章中还会对帧进行详细讲解。






# 垃圾收集器与内存分配策略





# 虚拟机性能监控



# 故障处理工具


# 调优案例分析


