# â¤ï¸ åˆ›å»ºé”€æ¯å¯¹è±¡
## ğŸ’› é™æ€å·¥å‚
>[!quote] é™æ€å·¥å‚
>é™æ€å·¥å‚ å°±æ˜¯åœ¨ç±»ä¸­å£°æ˜ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå¯¹è±¡

- `from` ç±»å‹è½¬æ¢æ–¹æ³•ï¼Œç”¨äºå°†æŸä¸ªç±»å‹çš„å€¼è½¬æ¢æˆç›®æ ‡ç±»å‹çš„å®ä¾‹ã€‚é€šå¸¸ç”¨äºå°†ä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡æˆ–å€¼è½¬æ¢ä¸ºå¦ä¸€ç§è¡¨ç¤ºå½¢å¼çš„å¯¹è±¡
```java
Date d = Date.from(instant);
```

- `of` èšåˆæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºåŒ…å«å¤šä¸ªå‚æ•°çš„å®ä¾‹
```java
Set<Rank> faceCards = EnumSet.of(JACK, QUEEN, KING);
```

- `valueOf` è¿™æ˜¯ä¸€ä¸ª**æ›´ä¸ºè¯¦ç»†**çš„å¯é€‰æ–¹æ¡ˆï¼Œç”¨äºä»ç»™å®šçš„å€¼åˆ›å»ºç›¸åº”çš„å¯¹è±¡
```java
BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);
```

---

- `getInstance`Â è·å–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å®ä¾‹
```java
StackWalker luke = StackWalker.getInstance(options);
```
    
- `newInstance`Â æ¯æ¬¡è°ƒç”¨éƒ½è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹
```java
Object newArray = Array.newInstance(classObject, arrayLen);
```

## ğŸ’› é¿å…åˆ›å»ºä¸å¿…è¦å¯¹è±¡
- ä¸å¯å˜å¯¹è±¡æ€»æ˜¯å¯ä»¥å¤ç”¨
```java
// âŒ
String s = new String("123");
// âœ”ï¸
String s = "123";
```

---

- å¯¹äºé¢‘ç¹éœ€è¦åˆ›å»ºçš„å¯¹è±¡ï¼Œæˆ‘ä»¬åº”è¯¥ç¼“å­˜ï¼Œæ¯”å¦‚ ~~Jackson çš„ objectMapperï¼ŒOKHttp çš„ OKHttpClient~~
- ä¼˜å…ˆä½¿ç”¨åŸºæœ¬ç±»å‹ï¼Œè€Œä¸æ˜¯å°è£…ç±»

## ğŸ’›  å°½é‡é¿å… JavaBeans æ¨¡å¼åˆ›å»ºå¯¹è±¡
JavaBeans æ¨¡å¼æ˜¯é€šè¿‡æ— å‚æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œç„¶åä½¿ç”¨ setter æ–¹æ³•é€ä¸ªè®¾ç½®å±æ€§

```java
NutritionFacts cocaCola = new NutritionFacts();
cocaCola.setServingSize(240);
cocaCola.setServings(8);
cocaCola.setCalories(100);
```

<u>ç¼ºç‚¹</u> ï¼š
- ç”±äºå¯¹è±¡çš„æ„é€ è¿‡ç¨‹è¢«æ‹†åˆ†ä¸ºå¤šä¸ªæ­¥éª¤ï¼Œåœ¨æ‰€æœ‰å±æ€§è®¾ç½®å®Œæˆä¹‹å‰ï¼ŒJavaBean å¯èƒ½å¤„äºä¸å®Œæ•´æˆ–ä¸ä¸€è‡´çš„çŠ¶æ€ã€‚è¿™ä¸ªçŠ¶æ€ä¸‹ï¼ŒæŸäº›æ“ä½œå¯èƒ½ä¾èµ–äºå°šæœªè®¾ç½®çš„å±æ€§ï¼Œä»è€Œå¯¼è‡´å¯¹è±¡åœ¨ä½¿ç”¨æ—¶è¡Œä¸ºå¼‚å¸¸æˆ–å¤±è´¥
- æ— æ³•å¯¹å¤šä¸ªå±æ€§åšæœ‰æ•ˆæ€§æ£€æŸ¥

## ğŸ’›  Builder æ¨¡å¼
- åˆ›å»ºæ‹¥æœ‰ Builder æ¨¡å¼çš„ç±»
```java
public abstract class Pizza {
    // é…æ–™æšä¸¾
    public enum Topping {
        HAM, MUSHROOM, ONION, PEPPER, SAUSAGE
    }
    final Set<Topping> toppings;

    abstract static class Builder<T extends Builder<T>> {
        // åˆ›å»ºä¸€ä¸ªç©ºçš„ï¼Œä¸“é—¨ç”¨äºå­˜æ”¾é…æ–™æšä¸¾çš„é›†åˆ
        EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);

        public T addTopping(Topping topping) {
            toppings.add(Objects.requireNonNull(topping));
            return self();
        }

        // è¿™ä¸¤ä¸ªæ–¹æ³•å­ç±»å¿…é¡»é‡å†™ï¼Œæ‰€ä»¥å®šä¹‰ä¸ºæŠ½è±¡æ–¹æ³•
        abstract Pizza build();  // è®©å­ç±»åˆ›å»ºè‡ªå·±çš„å®ä¾‹ï¼Œè‡ªå·±newå‡ºæ¥
        protected abstract T self();  // ä¸ºäº†è®©å­ç±»è°ƒç”¨addTopping()æ–¹æ³•ï¼Œèƒ½è¿”å›å­ç±»è‡ªå·±çš„å®ä¾‹
    }

    Pizza(Builder<?> builder) {
        toppings = builder.toppings.clone();
    }
}
```

- å­ç±»
```java
public class NyPizza extends Pizza {
    public enum Size {SMALL, MEDIUM, LARGE}

    private final Size size;

    @AllArgsConstructor
    public static class Builder extends Pizza.Builder<Builder> {
        private final Size size;

        @Override
        public NyPizza build() {
            return new NyPizza(this);
        }

        @Override
        protected Builder self() {
            return this;
        }
    }

    private NyPizza(Builder builder) {
        super(builder);
        size = builder.size;
    }
}
```

- ä½¿ç”¨
```java
NyPizza pizza = new NyPizza.Builder(SMALL)
                           .addTopping(SAUSAGE)
                           .addTopping(ONION)
                           .build();
```